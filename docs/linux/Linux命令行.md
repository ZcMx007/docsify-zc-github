# Linux的常用命令行

## chown

用来变更文件或目录的拥有者或所属群组，只有文件主(属主)和超级用户才可以便用该命令。
语法：```chown(选项)(参数)```
实例：
1、将目录/usr/meng及其下面的所有文件、子目录的文件主改成 liu：```chown -R liu /usr/meng```

## chgrp

用来变更文件或目录的所属群组,该命令用来改变指定文件所属的用户组。其中，组名可以是用户组的id，也可以是用户组的组名。文件名可以 是由空格分开的要改变属组的文件列表，也可以是由通配符描述的文件集合。如果用户不是该文件的文件主或超级用户(root)，则不能改变该文件的组。

语法：```chgrp [选项][组群][文件|目录]```
实例：
1、将/usr/meng及其子目录下的所有文件的用户组改为mengxin：```chgrp -R mengxin /usr/meng```
2、更改文件ah的组群所有者为 newuser：```[root@rhel ~]# chgrp newuser ah```

## chmod

用来变更文件或目录的权限,更改方式：
1、通过符号组合的方式更改目标文件或目录的权限。组合三次 rwx,分别表示属主的权限，属组的权限以及其他用户的权限。
2、通过八进制数的方式更改目标文件或目录的权限。r:4,w:2,x:1,使用组合数字形式分别表示属主的权限，属组的权限以及其他用户的权限。例如777表示所有用户都赋予最高权限。
3、通过参考文件的权限来更改目标文件或目录的权限。

例子：

```linux
# 添加组用户的写权限。
chmod g+w ./test.log
# 删除其他用户的所有权限。
chmod o= ./test.log
# 使得所有用户都没有写权限。
chmod a-w ./test.log
# 当前用户具有所有权限，组用户有读写权限，其他用户只有读权限。
chmod u=rwx, g=rw, o=r ./test.log
# 等价的八进制数表示：
chmod 754 ./test.log
# 将目录以及目录下的文件都设置为所有用户拥有读写权限。
# 注意，使用'-R'选项一定要保留当前用户的执行和读取权限，否则会报错！
chmod -R a=rw ./testdir/
# 根据其他文件的权限设置文件权限。
chmod --reference=./1.log  ./test.log
```

## 查看文件

touch:创建文件
cat:查看一个文件的完整内容 顺序查看
tac:查看一个文件的完整内容 倒序查看
nl: 查看一个文件的完整内容 顺序查看并标明行号
more:查看文件的部分内容 使用enter向下换行 使用space向下翻页 只能向下翻页
less:more的升级版，仍然是查看文件的部分内容，使用enter健或“↓”向下换行，使用“↑”向上换行，使用PgUp和PgDn向上和向下翻页。查看文件过程中使用``:f``查看行位置以及当前文件位置（百分比显示），使用```/[搜索字段]```会将匹配的字符顺序标明，并定位到第一个匹配的字符所在位置;使用```?[搜索字段]```会将匹配的字符逆序标明，并定位到最后一个匹配的字符所在位置;使用"n"按照匹配方向正向定位下一个字符所在位置，使用"N"按照匹配方向逆向定位下一个字符所在位置。使用```q```退出查看。
head:显示文件的开头部分。```head -n 10 ifup-ib```查看ifup-ib文件的前10行数据
tail:显示文件的结尾部分。```tail -n 10 ifup-ib```查看ifup-ib文件的结尾10行数据

## ln

用来为文件创建链接，链接类型分为硬链接和符号链接(软链接)两种，默认的链接类型是硬链接。如果要创建符号链接必须使用"-s"选项。符号链接文件不是一个独立的文件，它的许多属性依赖于源文件，所以给符号链接文件设置存取权限是没有意义的。硬链接的“源文件”参数只能是文件，不能是目录。硬链接本质上是为硬盘中的真正存储的文件多挂载了一个节点，因此删除硬链接的源文件，本质上是减少了硬盘中存储文件的一个节点，并不会真正删除文件；而软链接本质上存储的是关于某个节点的指向，因此当软链接指向的源文件（节点）被删除后，软链接自然也就没用了。
硬链接实例：将目录/usr/mengqc/mub1下的文件m2.c链接到目录/usr/liu下的文件a2.c：

```linux
cd /usr/mengqc
ln /mub1/m2.c /usr/liu/a2.c
```

软链接实例：在目录/usr/liu下建立一个符号链接文件abc，使它指向目录/usr/mengqc/mub1：
```ln -s /usr/mengqc/mub1 /usr/liu/abc``` 执行该命令后，/usr/mengqc/mub1代表的路径将存放在名为/usr/liu/abc的文件中。

## echo

输出指定的字符串或者变量
语法：echo(选项)(参数)
-e：激活转义字符。
使用-e选项时，若字符串中出现以下字符，则特别加以处理，而不会将它当成一般文字输出：

\a 发出警告声；
\b 删除前一个字符；
\c 不产生进一步输出 (\c 后面的字符不会输出)；
\f 换行但光标仍旧停留在原来的位置；
\n 换行且光标移至行首；
\r 光标移至行首，但不换行；
\t 插入tab；
\v 与\f相同；
\\ 插入\字符；
\nnn 插入 nnn（八进制）所代表的ASCII字符；

echo默认直接输出到控制台，也可以输出到文件中 例如：将“hello world”字符串输出到f1文件中：```echo "hello world" >>f1```

## vim

强大的linux编辑器

[数字]<space> 光标移动指定的位数
[数字]<enter> 光标移动指定的行数
/<word> 查找 n 下一个 N上一个
<数字>x 在光标处向后连续删除指定个数的字符
:!表示强制执行 放在命令的最后保证改命令强制执行
:q不保存退出
:w无论有没有改动，都执行一次保存动作
:x有改动则保存后退出，无则直接退出，因此，使用:wq保存退出不如直接使用:x
:w [fileName] 将内容另存新档
:r [fileName] 读取另一个档案的数据 并将改数据放入游标指向的下一行
:n1,n2 w [fileName] 将n1,n2的内容存储成[fileName]这个档案
:! [command] 暂时离开vim到指令模式下执行[command]命令并显示执行结果，例如:! echo "hello"就是暂时离开vim并输出“hello”，之后你再按任意键就会重新返回vim
:set nu 显示行号 设置之后会在每一行的开头显示行号
:set nonu 不显示行号 设置之后原本的显示行号设置失效 取消行号设置
